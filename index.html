<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Guessing Game </title>
    <body>
      <section>
        <div>
          <p>I am thinking a number from 1 to 10.</p>
          <p>You must guess what it is in three tries.</p>
          <label>
            Enter a Guess <input type="text" onpaste="return false;"
            maxlength="2" onkeyup='return minMaxNumberCheck(this)'
            onkeypress='return validateNumber(event)' name="guess_value"
            id="guess_value" />
            <input type="button" name="guessit" id="guessit" value="Guess it" />
          </label>
          <p id="optText"></p>

        </div>
      </section>
      <script type="text/javascript">
        var randomString = Math.floor((Math.random() * 10) + 1);
        var maxTries = 3;
        function validateNumber(event) {
            var key = window.event ? event.keyCode : event.which;
            if (event.keyCode === 8 || event.keyCode === 46) {
                return true;
            } else if ( key < 48 || key > 57 ) {
                return false;
            } else {
                return true;
            }
        }
        function minMaxNumberCheck(e) {
          var inputId = document.getElementById(e.id);
          var inputValue = Number(inputId.value);
          if(inputValue == 0 || inputValue > 10)
            inputId.value = (inputValue == 0) ? '' : (inputValue.toString())[0];
            return true;
        }
        document.getElementById('guessit').onclick = function(){
          var inputId = document.getElementById('guess_value');
          var inputValue = Number(inputId.value);
          document.getElementById('optText').innerHTML = '';
          if(inputValue > 0 && inputValue < 11 && maxTries > 0){
            var optStatement = '';
            var noOfTries = (maxTries == 3) ? 'first' : ((maxTries == 2 ) ? 'second' : (maxTries == 1 ) ? 'last' : '');
            var interVal = Number(findIntervalLength([inputValue, randomString]));
            if (interVal == 0)
              optStatement = 'Your '+noOfTries+' guess is: '+inputValue+'<br/>Right! You have won the game';
            else if ( interVal >= 3)
              optStatement = 'Your '+noOfTries+' guess is: '+inputValue+' (cold)';
            else if (interVal >= 2)
              optStatement = 'Your '+noOfTries+' guess is: '+inputValue+' (warm)';
            else if (interVal >= 1)
              optStatement = 'Your '+noOfTries+' guess is: '+inputValue+' (hot)';
            maxTries--;
            document.getElementById('optText').innerHTML = optStatement;
          }
        }
        function findIntervalLength(arr){
          var count = 0;
          var lower = Math.min(arr[0], arr[1]);
          var upper = Math.max(arr[0], arr[1]);
          for (var i = lower; i < upper; i++) {
              count++;
          }
          return count;
        }
      </script>
    </body>

</html>
